<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2202.7">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="fr"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta charset="UTF-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;title&gt;2048 Jeu&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>body {</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-family: 'Arial', sans-serif;</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">            </span>justify-content: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>height: 100vh;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin: 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #faf8ef;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.game-container {</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: grid;</p>
<p class="p1"><span class="Apple-converted-space">            </span>grid-template-columns: repeat(4, 100px);</p>
<p class="p1"><span class="Apple-converted-space">            </span>grid-template-rows: repeat(4, 100px);</p>
<p class="p1"><span class="Apple-converted-space">            </span>gap: 10px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #bbada0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 10px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 10px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>position: relative;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.tile {</p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 100px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>height: 100px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #cdc1b4;</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 24px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-weight: bold;</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">            </span>justify-content: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #776e65;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 5px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.tile[data-value="2"] {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #eee4da;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #776e65;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.tile[data-value="4"] {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #ede0c8;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #776e65;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.tile[data-value="8"] {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #f2b179;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #f9f6f2;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.tile[data-value="16"] {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #f59563;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #f9f6f2;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.tile[data-value="32"] {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #f67c5f;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #f9f6f2;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.tile[data-value="64"] {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #f65e3b;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #f9f6f2;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.tile[data-value="128"] {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #edcf72;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #f9f6f2;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.tile[data-value="256"] {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #edcc61;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #f9f6f2;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.tile[data-value="512"] {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #edc850;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #f9f6f2;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.tile[data-value="1024"] {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #edc53f;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #f9f6f2;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.tile[data-value="2048"] {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #edc22e;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #f9f6f2;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="game-container" id="game-container"&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>const gridSize = 4;</p>
<p class="p1"><span class="Apple-converted-space">        </span>const grid = [];</p>
<p class="p1"><span class="Apple-converted-space">        </span>const container = document.getElementById("game-container");</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Initialize the game grid</p>
<p class="p1"><span class="Apple-converted-space">        </span>function initGrid() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>for (let i = 0; i &lt; gridSize * gridSize; i++) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const tile = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                </span>tile.classList.add('tile');</p>
<p class="p1"><span class="Apple-converted-space">                </span>container.appendChild(tile);</p>
<p class="p1"><span class="Apple-converted-space">                </span>grid.push(tile);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>addRandomTile();</p>
<p class="p1"><span class="Apple-converted-space">            </span>addRandomTile();</p>
<p class="p1"><span class="Apple-converted-space">            </span>updateGrid();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Add a new random tile with value 2 or 4</p>
<p class="p1"><span class="Apple-converted-space">        </span>function addRandomTile() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const emptyTiles = grid.filter(tile =&gt; !tile.dataset.value);</p>
<p class="p1"><span class="Apple-converted-space">            </span>const randomTile = emptyTiles[Math.floor(Math.random() * emptyTiles.length)];</p>
<p class="p1"><span class="Apple-converted-space">            </span>randomTile.dataset.value = Math.random() &lt; 0.9 ? 2 : 4;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Update the visual grid based on the data</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateGrid() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>grid.forEach(tile =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const value = tile.dataset.value;</p>
<p class="p1"><span class="Apple-converted-space">                </span>tile.textContent = value ? value : '';</p>
<p class="p1"><span class="Apple-converted-space">                </span>tile.setAttribute('data-value', value || '');</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Slide the tiles</p>
<p class="p1"><span class="Apple-converted-space">        </span>function slide(tiles) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const arr = tiles.map(tile =&gt; parseInt(tile.dataset.value) || 0);</p>
<p class="p1"><span class="Apple-converted-space">            </span>const filtered = arr.filter(val =&gt; val);</p>
<p class="p1"><span class="Apple-converted-space">            </span>const missing = gridSize - filtered.length;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const zeros = Array(missing).fill(0);</p>
<p class="p1"><span class="Apple-converted-space">            </span>const newArray = filtered.concat(zeros);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>for (let i = 0; i &lt; gridSize; i++) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>tiles[i].dataset.value = newArray[i] || '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Combine the tiles if needed</p>
<p class="p1"><span class="Apple-converted-space">        </span>function combine(tiles) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>for (let i = 0; i &lt; tiles.length - 1; i++) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const a = parseInt(tiles[i].dataset.value) || 0;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const b = parseInt(tiles[i + 1].dataset.value) || 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (a === b &amp;&amp; a !== 0) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const combinedTotal = a + b;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>tiles[i].dataset.value = combinedTotal;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>tiles[i + 1].dataset.value = '';</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Move tiles based on direction</p>
<p class="p1"><span class="Apple-converted-space">        </span>function moveTiles(direction) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>for (let i = 0; i &lt; gridSize; i++) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>let rowOrCol;</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (direction === 'right' || direction === 'left') {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>rowOrCol = grid.slice(i * gridSize, i * gridSize + gridSize);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (direction === 'right') rowOrCol.reverse();</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>rowOrCol = [grid[i], grid[i + gridSize], grid[i + 2 * gridSize], grid[i + 3 * gridSize]];</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (direction === 'down') rowOrCol.reverse();</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>slide(rowOrCol);</p>
<p class="p1"><span class="Apple-converted-space">                </span>combine(rowOrCol);</p>
<p class="p1"><span class="Apple-converted-space">                </span>slide(rowOrCol);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (direction === 'right' || direction === 'down') rowOrCol.reverse();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>addRandomTile();</p>
<p class="p1"><span class="Apple-converted-space">            </span>updateGrid();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Event listeners for keyboard input</p>
<p class="p1"><span class="Apple-converted-space">        </span>window.addEventListener('keydown', function (e) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>switch (e.key) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>case 'ArrowUp':</p>
<p class="p1"><span class="Apple-converted-space">                    </span>moveTiles('up');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>break;</p>
<p class="p1"><span class="Apple-converted-space">                </span>case 'ArrowDown':</p>
<p class="p1"><span class="Apple-converted-space">                    </span>moveTiles('down');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>break;</p>
<p class="p1"><span class="Apple-converted-space">                </span>case 'ArrowLeft':</p>
<p class="p1"><span class="Apple-converted-space">                    </span>moveTiles('left');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>break;</p>
<p class="p1"><span class="Apple-converted-space">                </span>case 'ArrowRight':</p>
<p class="p1"><span class="Apple-converted-space">                    </span>moveTiles('right');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>break;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Initialize the game</p>
<p class="p1"><span class="Apple-converted-space">        </span>initGrid();</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/script&gt;</p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
